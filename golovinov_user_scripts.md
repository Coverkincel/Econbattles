# Дмитрий Головинов - "Econbattles"
# Пользовательские сценарии

### Группа: 11 - Э - 3
### Электронная почта: coverkincel@gmail.com
### VK: https://vk.com/nextov

### [ Сценарий 1 - Регистрация пользователя ]

1. Пользователь переходит на вебсайт. Если он не авторизрован, его автоматически редиректит на страницу входа.
2. Пользователь переходит по ссылке "Зарегистрироваться" и попадает на страницу регистрации
3. Пользователь вводит имя пользователя, которое будет использоваться в системе рейтинга сайта
4. Пользователь вводит адрес электронной почты, с помощью которой он будет заходить в систему
6. Пользователь дважды вводит пароль, с помощью которого он будет заходить в систему
7. При нажатии на "Зарегестрироваться" если электронная почта не соответствует формату ИЛИ если данная электронная почта уже зарегистрирована ИЛИ если пароль состоит из меньше чем 6 символ, выходит сообщение с соответствующей информации
8. При нажатии на "Зарегистрироваться" если все хорошо, сохраняется запись о данном пользователе в базе данных, происходит автоматическая авторизация и редирект на главную страницу сайта. Пользователю начисляется 100 стартовых монет.
9. Запускается Сценарий 2, начиная с пункта 6.

### [ Сценарий 2 - Авторизация пользователя ]
1. Пользователь переходит на вебсайт. Если он не авторизрован, его автоматически редиректит на страницу входа.
2. Пользователь вводит свою электронную почту
3. Пользователь вводит свой пароль
4. При нажатии на "Войти" если в базе данных не существует пользователя с такой связкой email;password, то появляется соответствующая информация
5. При нажатии на "Войти" если в базе данных есть такая связка email;password, то происходит авторизация и редирект на главную страницу сайта
6. В бразуере сохраняется токен авторизации, который истекает через - минут. 
7. По истечении - минут, пользователя автоматически выбрасывает из аккаунта.
8. Во время действия токена пользователь имеет доступ ко всем основным сценария

### [ Сценарий 3 - Прохождение тестов ]
1. Авторизированный пользователь получает доступ к главной странице сайта
2. Для прохождения теста пользователь должен нажать на "Старт", после чего у него спишется 50 монет за вход в тест.
3. В случае, если пользователю не хватает монет на вход, ему предоставляется доступ бесплатно
4. Появляется тестовый вопрос. Пользователю необходимо кликнуть на верный по его мнению вариант ответа на вопрос.
5. При нажатии на любой ответ интерфейс теста на несколько секунд перестает быть кликабельными (нельзя повторно отправить ответ).
6. Зеленым цветом подсвечивается верный вариант ответа, красным цветом подсвечиваются неверные варианты ответы.
7. При верном ответе на вопрос пользователю начисляется 100 очков счета
8. При неверном ответе на вопрос у пользователя снимается 100 очков счета, если у него 0 очков счета, то ничего не снимается.
9. Всего в каждом тесте 10 вопросов: по окончании вопросов очки счета начисляются пользователю в качестве монет (видна анимация начисления монет) и закрывается окно с вопросами.

### [ Сценарий 4 - Покупка пропускатора ]
1. Авторизированный пользователь получает доступ к главной странице сайта
2. Пользователь не должен находиться в режиме прохождения тестов для реализации этого сценария
3. При нажатии на "Магазин" открывается окно покупки пропускатора
4. При нажатии на "Купить пропускатор" с пользователя снимается 50 монет, но он получает доступ пропускатору (максмальное количество для покупки - 1)
5. Информация о владении пропускатором этим пользователем заносится в базу данных
6. При прохождении теста (Сценарий 3) у владельца пропускатора есть возможность пропустить 1 вопрос и получить за него баллы, так, как если бы он правильно на него ответил.
7. При нажатии на "Использовать пропускатор" на странице тестов у пользователя исчезает пропускатор, но он пропускает вопрос.

### [ Сценарий 5 - Доступ к истории вопросов ]
1. История вопросов открывается только тем пользователям, которые прошли все тесты. История вопросов считается опцией только для элиты.
2. Авторизированный пользователь получает доступ к главной странице сайта
3. Пользователь должен проходить тесты до тех пор, пока они не закончятся.
4. Количество пройденных тестов сохраняется автоматически в базе данных с привязкой к каждому пользователю.
5. Когда количество пройденных тестов максимально, пользователь больше не может начинать тесты (пропадает кнопка Старт), но получает доступ к истории вопросов.
6. При нажатии на "История вопросов" пользователь переходит во вкладку со всеми вопросами по порядку.
7. При нажатии на "Назад" пользователь возвращается на главную страницу.

### [ Сценарий 6 - Просмотр рейтинга сайта ]
1. В базе данных проекта хранится информация о количестве монет каждого пользователя. Монеты - это мерило успеха в Econbattles.
2. Авторизированный пользователь получает доступ к главной странице сайта.
3. При нажатии на "Рейтинг игроков" пользователь переходит на страницу рейтинга сайта.
4. На странице рейтинга сайта пользователь может ознакомиться с результатами его соперников и видит свое место.
5. При нажатии на кнопку "Назад" пользователь вновь переходит на главную страницу сайта
6. Пользователь вновь получает доступ к прохождению тестов
7. Profit

### [ Сценарий 7 - Восстановление пароля]
1. Неавторизованного пользователя редиректит на страницу авторизации
2. Пользователь нажимает на "Забыли пароль?" и его редиректит на страницу восстановления пароля
3. Пользователь указывает адрес электронной почты, указанной при регистрации и нажимает восстановить
4. Если аккаунт с такой почтой существует в базе данных, пользователю приходит письмо с помощью сервиса Sendgrid c ссылкой на восстановление пароля
5. Пользователь переходит по ссылке, вводит новый пароль.
6. В базе данных происходит обновление: данному аккаунту присваивается новый пароль
7. Пользователь может перейти по ссылке "Войти" для входа в аккаунт.
